### 问答作业
1.SV39 PTE组成
D:dirty位
A:accessed位，标志是否被访问
G:global映射位 -> TLB
U:user标志，控制U mode的访问权限
X:execute 可执行
W 写
R 读
V valid 是否有效 1 = 合法
63                  54 53    28 27    19 18    10 9   8 7 6 5 4 3 2 1 0
+---------------------+--------+--------+--------+-----+-+-+-+-+-+-+-+-+
|       Reserved      | PPN[2] | PPN[1] | PPN[0] | RSW |D|A|G|U|X|W|R|V|
+---------------------+--------+--------+--------+-----+-+-+-+-+-+-+-+-+

2.
- 三种异常：Instruction Page Fault code:12 ;Load Page Fault code :13; Store/AMO Page Fault code :15
- 发生缺页时,
    scause -> 异常原因
    sepc -> 异常地址
    stval -> 导致异常的虚拟地址
    sstatus -> SPP 记录发生异常的特权级，SIE记录中断使能状态
    stvec -> 处理trap的地址，中断向量表
- lazy策略好处：1.提高内存利用率，减少大型程序的内存使用；2.避免不必要的磁盘读取等

- 处理10G的连续内存页面，只估算三级页表所占空间，10G / 4k = 10 * 1k * 2 mod 8 个页表项 -> 5 * 1k 个页面 -> 20 MB左右

- lazy策略可使用PTE的V位，使用时由于V == 0 ，导致缺页，此时通过中断向量表到对应的中断进行内存加载

- 内存失效 v == 0

3.
- 单页表情况下 只需要修改satp指向用户空间的PTE，即可更换页表
- 内核空间的标志位U 为O
- 切换迅速，只需要硬件修改寄存器的值即可
- 双页表在地址空间发生切换时，就需要更换页表，比如进程和进程，进程和内核等等；单页表OS我会选择在进程地址空间切换时更换页表


### 荣誉准则

1. 在完成本次实验的过程（含此前学习的过程）中，我曾分别与 **以下各位** 就（与本次实验相关的）以下方面做过交流，还在代码中对应的位置以注释形式记录了具体的交流对象及内容：

无

2. 此外，我也参考了 **以下资料** ，还在代码中对应的位置以注释形式记录了具体的参考来源及内容：

man mmap

3. 我独立完成了本次实验除以上方面之外的所有工作，包括代码与文档。 我清楚地知道，从以上方面获得的信息在一定程度上降低了实验难度，可能会影响起评分。

4. 我从未使用过他人的代码，不管是原封不动地复制，还是经过了某些等价转换。 我未曾也不会向他人（含此后各届同学）复制或公开我的实验代码，我有义务妥善保管好它们。 我提交至本实验的评测系统的代码，均无意于破坏或妨碍任何计算机系统的正常运转。 我清楚地知道，以上情况均为本课程纪律所禁止，若违反，对应的实验成绩将按“-100”分计。